prefix operator -
infix operator + 3 right
infix operator - 3 right
infix operator * 4 right
infix operator == 2 right
infix operator != 2 right
infix operator > 2 right
infix operator < 2 right
infix operator >= 2 right
infix operator <= 2 right

struct List {
  let value: Int
  let next: UInt32
}

@foreign("printInt") func printInt(str: Int)
@foreign("print") func print(str: String)
@export("main") func main(max: Int) {
  let first = Pointer<List>(40)
  first.store(List(13, 60))
  Pointer<List>(60).store(List(15, 80))
  Pointer<List>(80).store(List(9, 0))
  var current = Pointer<List>(40).load()
  current = Pointer<List>(40).load()
  while current.next != 0 {
    printInt(current.value)
    current = Pointer<List>(current.next).load()
  }
  print("Done")
}
